@startuml
'https://plantuml.com/class-diagram

package cl.ucn.disc.pa.taller3 {
    package vista {
        class VistaConsola {
            - sistema: SistemaOfertas
            + VistaConsola(sistema: SistemaOfertas)
            + iniciar(): void
            + lecturaEnteros(frase: String): int
        }
    }

    package servicios {
        interface SistemaOfertas {
            + registrarUsuario(nombre: String, rut: String, correo: String, contrasenia: String): boolean
            + iniciarSesion(rut: String, contrasenia: String): boolean
            + ingresarOferta(): void
            + buscarOferta(): void
            + verOfertas(): void
            + editarOferta(): void
            + eliminarOferta(): void
            + verPerfil(): void
            + editarPerfil(): void
            + cerrarSesion(): void
        }

        class SistemaOfertasUCN {
            - contenedorOfertas: ContenedorOfertas
            - usuarioActual: Usuario
            - usuarios: Usuario[]
            - cantidadUsuarios: int
            - archivoOfertas: String
            + SistemaOfertasUCN()
            + registrarUsuario(nombre: String, rut: String, correo: String, contrasenia: String): boolean
            + iniciarSesion(rut: String, contrasenia: String): boolean
            + ingresarOferta(): void
            + buscarOferta(): void
            + verOfertas(): void
            + editarOferta(): void
            + eliminarOferta(): void
            + verPerfil(): void
            + editarPerfil(): void
            + cerrarSesion(): void
            + getUsuarioActual(): Usuario
        }
    }

    package dominio {
        class Usuario {
            - nombre: String
            - rut: String
            - correo: String
            - contrasenia: String
            + Usuario(nombre: String, rut: String, correo: String, contrasenia: String)
            + gets()
            + sets()
            + verificarContrasenia(contrasenia: String): boolean
            + toString(): String
        }

        abstract class Oferta {
            - id: String
            - titulo: String
            - descripcion: String
            - nombreUnidad: String
            - duracionDias: int
            - fechaPublicacion: LocalDate
            - fechaCierre: LocalDate
            + Oferta(id: String, titulo: String, descripcion: String, nombreUnidad: String, duracionDias: int)
            + gets()
            + sets()
            + calcularFechas(): void
            + toString(): String
        }

        abstract class ActividadEmpresa extends Oferta {
            - fechaInicio: LocalDate
            - nombreEmpresa: String
            - nombreGuia: String
            + ActividadEmpresa(id: String, titulo: String, descripcion: String, nombreUnidad: String, duracionDias: int, fechaInicio: LocalDate, nombreEmpresa: String, nombreGuia: String)
            + gets()
            + sets()
        }

        class Ayudantia extends Oferta {
            - nombreAsignatura: String
            - rolAyudante: String
            - horasSemanales: int
            - promedioMinimo: double
            - tipoAyudantia: String
            + Ayudantia(id: String, titulo: String, descripcion: String, nombreUnidad: String, duracionDias: int, nombreAsignatura: String, rolAyudante: String, horasSemanales: int, promedioMinimo: double, tipoAyudantia: String)
            + gets()
            + sets()
            + toString(): String
        }

        class Capstone extends ActividadEmpresa {
            - tipoProyecto: String
            - duracionMeses: int
            - carrerasNecesarias: String[]
            - cantidadMinEstudiantes: int
            + Capstone(id: String, titulo: String, descripcion: String, nombreUnidad: String, duracionDias: int, fechaInicio: LocalDate, nombreEmpresa: String, nombreGuia: String, tipoProyecto: String, duracionMeses: int, carrerasNecesarias: String[], cantidadMinEstudiantes: int)
            + gets()
            + sets()
            + toString(): String
        }

        class Practica extends ActividadEmpresa {
            - poseeRemuneracion: boolean
            + Practica(id: String, titulo: String, descripcion: String, nombreUnidad: String, duracionDias: int, fechaInicio: LocalDate, nombreEmpresa: String, nombreGuia: String, poseeRemuneracion: boolean)
            + gets()
            + sets()
            + toString(): String
        }

        class ContenedorOfertas {
            - ofertas: Oferta[]
            - cantidadMaxima: int
            - cantidadActual: int
            + ContenedorOfertas(cantidadMaxima: int)
            + getCantidadActual(): int
            + agregar(nueva: Oferta): void
            + buscarPorId(id: String): int
            + buscarPorTitulo(titulo: String): int
            + obtener(posicion: int): Oferta
            + eliminar(id: String): boolean
        }
    }

    package utilidades {
        class ValidadorEntrada {
            + validarEnteros(mensaje: String): int
            + validarDouble(mensaje: String): double
            + validarString(mensaje: String): String
            + validarRut(rut: String): boolean
            + validarCorreo(correo: String): boolean
            + validarTexto(texto: String, minLength: int, maxLength: int): boolean
            + validarPromedio(promedio: double): boolean
            + validarHoras(horas: int): boolean
            + validarDuracion(dias: int): boolean
            + validarDuracionMeses(meses: int): boolean
            + validarCantidadEstudiantes(cantidad: int): boolean
            + validarTipoAyudantia(tipo: String): boolean
            + validarTipoProyecto(tipo: String): boolean
        }
    }
}

@startuml
'https://plantuml.com/class-diagram

package cl.ucn.disc.pa.taller3 {
    package vista {
        class VistaConsola {
            - sistema: SistemaOfertas
            + VistaConsola(sistema: SistemaOfertas)
            + iniciar(): void
            + lecturaEnteros(frase: String): int
        }
    }

    package servicios {
        interface SistemaOfertas {
            + registrarUsuario(nombre: String, rut: String, correo: String, contrasenia: String): boolean
            + iniciarSesion(rut: String, contrasenia: String): boolean
            + ingresarOferta(): void
            + buscarOferta(): void
            + verOfertas(): void
            + editarOferta(): void
            + eliminarOferta(): void
            + verPerfil(): void
            + editarPerfil(): void
            + cerrarSesion(): void
        }

        class SistemaOfertasUCN {
            - contenedorOfertas: ContenedorOfertas
            - usuarioActual: Usuario
            - usuarios: Usuario[]
            - cantidadUsuarios: int
            - archivoOfertas: String
            + SistemaOfertasUCN()
            + registrarUsuario(nombre: String, rut: String, correo: String, contrasenia: String): boolean
            + iniciarSesion(rut: String, contrasenia: String): boolean
            + ingresarOferta(): void
            + buscarOferta(): void
            + verOfertas(): void
            + editarOferta(): void
            + eliminarOferta(): void
            + verPerfil(): void
            + editarPerfil(): void
            + cerrarSesion(): void
            + getUsuarioActual(): Usuario
        }
    }

    package dominio {
        class Usuario {
            - nombre: String
            - rut: String
            - correo: String
            - contrasenia: String
            + Usuario(nombre: String, rut: String, correo: String, contrasenia: String)
            + gets()
            + sets()
            + verificarContrasenia(contrasenia: String): boolean
            + toString(): String
        }

        abstract class Oferta {
            - id: String
            - titulo: String
            - descripcion: String
            - nombreUnidad: String
            - duracionDias: int
            - fechaPublicacion: LocalDate
            - fechaCierre: LocalDate
            + Oferta(id: String, titulo: String, descripcion: String, nombreUnidad: String, duracionDias: int)
            + gets()
            + sets()
            + calcularFechas(): void
            + toString(): String
        }

        abstract class ActividadEmpresa extends Oferta {
            - fechaInicio: LocalDate
            - nombreEmpresa: String
            - nombreGuia: String
            + ActividadEmpresa(id: String, titulo: String, descripcion: String, nombreUnidad: String, duracionDias: int, fechaInicio: LocalDate, nombreEmpresa: String, nombreGuia: String)
            + gets()
            + sets()
        }

        class Ayudantia extends Oferta {
            - nombreAsignatura: String
            - rolAyudante: String
            - horasSemanales: int
            - promedioMinimo: double
            - tipoAyudantia: String
            + Ayudantia(id: String, titulo: String, descripcion: String, nombreUnidad: String, duracionDias: int, nombreAsignatura: String, rolAyudante: String, horasSemanales: int, promedioMinimo: double, tipoAyudantia: String)
            + gets()
            + sets()
            + toString(): String
        }

        class Capstone extends ActividadEmpresa {
            - tipoProyecto: String
            - duracionMeses: int
            - carrerasNecesarias: String[]
            - cantidadMinEstudiantes: int
            + Capstone(id: String, titulo: String, descripcion: String, nombreUnidad: String, duracionDias: int, fechaInicio: LocalDate, nombreEmpresa: String, nombreGuia: String, tipoProyecto: String, duracionMeses: int, carrerasNecesarias: String[], cantidadMinEstudiantes: int)
            + gets()
            + sets()
            + toString(): String
        }

        class Practica extends ActividadEmpresa {
            - poseeRemuneracion: boolean
            + Practica(id: String, titulo: String, descripcion: String, nombreUnidad: String, duracionDias: int, fechaInicio: LocalDate, nombreEmpresa: String, nombreGuia: String, poseeRemuneracion: boolean)
            + gets()
            + sets()
            + toString(): String
        }

        class ContenedorOfertas {
            - ofertas: Oferta[]
            - cantidadMaxima: int
            - cantidadActual: int
            + ContenedorOfertas(cantidadMaxima: int)
            + getCantidadActual(): int
            + agregar(nueva: Oferta): void
            + buscarPorId(id: String): int
            + buscarPorTitulo(titulo: String): int
            + obtener(posicion: int): Oferta
            + eliminar(id: String): boolean
        }
    }

    package utilidades {
        class ValidadorEntrada {
            + validarEnteros(mensaje: String): int
            + validarDouble(mensaje: String): double
            + validarString(mensaje: String): String
            + validarRut(rut: String): boolean
            + validarCorreo(correo: String): boolean
            + validarTexto(texto: String, minLength: int, maxLength: int): boolean
            + validarPromedio(promedio: double): boolean
            + validarHoras(horas: int): boolean
            + validarDuracion(dias: int): boolean
            + validarDuracionMeses(meses: int): boolean
            + validarCantidadEstudiantes(cantidad: int): boolean
            + validarTipoAyudantia(tipo: String): boolean
            + validarTipoProyecto(tipo: String): boolean
        }
    }
}

Usuario "1" -- "*" Oferta : gestiona >
VistaConsola "1" --> "1" SistemaOfertas : utiliza
SistemaOfertasUCN ..|> SistemaOfertas
SistemaOfertasUCN "1" o-- "1" ContenedorOfertas
SistemaOfertasUCN "1" o-- "*" Usuario : gestiona
ContenedorOfertas o-- "*" Oferta : contiene


@enduml